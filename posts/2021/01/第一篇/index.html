<!DOCTYPE html>
<html lang="zh-cn">
    
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="ZC ">
<meta name="description" content="之后打算用这个博客记录一下学习 Skip to main content Search
Docs Power Platform Power Apps Create apps Dataverse Why choose Dataverse? Work with any app Search Filter by title Dataverse What is Dataverse? Overview Work with any data Importing and exporting data Work with any app Table overview Tables and metadata Types of tables Create a table Create a custom table that has components Edit a table Create and edit virtual tables Virtual table OData v4 data provider Define alternate keys using Power Apps portal Define alternate keys using solution explorer SharePoint, OneNote, and OneDrive integration Translate customized table and column text Import translated table and column text Security in Dataverse API limits overview For developers Chatbots AI Builder Work with any type of app 06/16/2020 6 minutes to read" />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://zclam.github.io/posts/2021/01/%E7%AC%AC%E4%B8%80%E7%AF%87/" />


    <title>
        
            第一篇 :: 欢迎来到我的博客  — 你好
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="https://zclam.github.io/main.910e15dc52254187e03d780d8a3f325ed4cf425e6c23b5b3a8911f9e6e379ea8.css">




    <link rel="apple-touch-icon" sizes="180x180" href="https://zclam.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://zclam.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://zclam.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://zclam.github.io/site.webmanifest">
    <link rel="mask-icon" href="https://zclam.github.io/safari-pinned-tab.svg" color="#1b1c1d">
    <link rel="shortcut icon" href="https://zclam.github.io/favicon.ico">
    <meta name="msapplication-TileColor" content="#1b1c1d">
    <meta name="theme-color" content="#1b1c1d">



<meta itemprop="name" content="第一篇">
<meta itemprop="description" content="之后打算用这个博客记录一下学习 Skip to main content Search
Docs Power Platform Power Apps Create apps Dataverse Why choose Dataverse? Work with any app Search Filter by title Dataverse What is Dataverse? Overview Work with any data Importing and exporting data Work with any app Table overview Tables and metadata Types of tables Create a table Create a custom table that has components Edit a table Create and edit virtual tables Virtual table OData v4 data provider Define alternate keys using Power Apps portal Define alternate keys using solution explorer SharePoint, OneNote, and OneDrive integration Translate customized table and column text Import translated table and column text Security in Dataverse API limits overview For developers Chatbots AI Builder Work with any type of app 06/16/2020 6 minutes to read">
<meta itemprop="datePublished" content="2021-01-25T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-01-25T00:00:00+00:00" />
<meta itemprop="wordCount" content="1600">
<meta itemprop="image" content="https://zclam.github.io"/>



<meta itemprop="keywords" content="" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://zclam.github.io"/>

<meta name="twitter:title" content="第一篇"/>
<meta name="twitter:description" content="之后打算用这个博客记录一下学习 Skip to main content Search
Docs Power Platform Power Apps Create apps Dataverse Why choose Dataverse? Work with any app Search Filter by title Dataverse What is Dataverse? Overview Work with any data Importing and exporting data Work with any app Table overview Tables and metadata Types of tables Create a table Create a custom table that has components Edit a table Create and edit virtual tables Virtual table OData v4 data provider Define alternate keys using Power Apps portal Define alternate keys using solution explorer SharePoint, OneNote, and OneDrive integration Translate customized table and column text Import translated table and column text Security in Dataverse API limits overview For developers Chatbots AI Builder Work with any type of app 06/16/2020 6 minutes to read"/>




    <meta property="og:title" content="第一篇" />
<meta property="og:description" content="之后打算用这个博客记录一下学习 Skip to main content Search
Docs Power Platform Power Apps Create apps Dataverse Why choose Dataverse? Work with any app Search Filter by title Dataverse What is Dataverse? Overview Work with any data Importing and exporting data Work with any app Table overview Tables and metadata Types of tables Create a table Create a custom table that has components Edit a table Create and edit virtual tables Virtual table OData v4 data provider Define alternate keys using Power Apps portal Define alternate keys using solution explorer SharePoint, OneNote, and OneDrive integration Translate customized table and column text Import translated table and column text Security in Dataverse API limits overview For developers Chatbots AI Builder Work with any type of app 06/16/2020 6 minutes to read" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zclam.github.io/posts/2021/01/%E7%AC%AC%E4%B8%80%E7%AF%87/" />
<meta property="og:image" content="https://zclam.github.io"/>
<meta property="article:published_time" content="2021-01-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-25T00:00:00+00:00" />




    <meta property="article:section" content="随笔" />



    <meta property="article:published_time" content="2021-01-25 00:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="https://zclam.github.io/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">请点击右侧&gt;&gt;&gt;</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="https://zclam.github.io/categories/">分类</a></li><li><a href="https://zclam.github.io/tags/">标签</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://zclam.github.io/posts/2021/01/%E7%AC%AC%E4%B8%80%E7%AF%87/">第一篇</a>
      </h1>

      

      

      <div class="post-content">
        <p>之后打算用这个博客记录一下学习
Skip to main content
Search</p>
<p>Docs  Power Platform  Power Apps  Create apps  Dataverse  Why choose Dataverse?  Work with any app
Search
Filter by title
Dataverse
What is Dataverse?
Overview
Work with any data
Importing and exporting data
Work with any app
Table overview
Tables and metadata
Types of tables
Create a table
Create a custom table that has components
Edit a table
Create and edit virtual tables
Virtual table OData v4 data provider
Define alternate keys using Power Apps portal
Define alternate keys using solution explorer
SharePoint, OneNote, and OneDrive integration
Translate customized table and column text
Import translated table and column text
Security in Dataverse
API limits overview
For developers
Chatbots
AI Builder
Work with any type of app
06/16/2020
6 minutes to read</p>
<p>Note</p>
<p>Effective November 2020:</p>
<p>Common Data Service has been renamed to Microsoft Dataverse. Learn more
Some terminology in Microsoft Dataverse has been updated. For example, entity is now table and field is now column. Learn more
This article will be updated soon to reflect the latest terminology.</p>
<p>Microsoft Dataverse provides multiple ways to integrate in any type of app&amp;—mobile, web, desktop, device, system, or service. For cloud solutions, there are ways to integrate regardless of the model in which your solution is deployed—infrastructure as a service (IaaS), platform as a service (PaaS), or software as a service (SaaS). For IaaS-based solutions, the integration approach also works well if solutions are running inside of containers.</p>
<p>In some cases, integration with an app can be achieved by using business logic contained in Dataverse. In other cases, it will involve integration via events, the Dataverse OData API, or using plug-ins.</p>
<p>Defining business logic
tables in Dataverse can use rich server-side logic and validation to ensure data quality and reduce repetitive code in each app that creates and uses data in a table.</p>
<p>Business rules: Validate data across multiple columns and tables, and provide warning and error messages, regardless of the app used to create the data. More information: Create a business rule for a table</p>
<p>Business process flows: Guide users to ensure that they enter data consistently and follow the same steps every time. Business process flows are currently only supported for model-driven apps. More information: Business processes flows overview</p>
<p>Workflows: Automate business processes without user interaction. More information: Classic Dataverse workflows</p>
<p>Business logic with code: Supports advanced developer scenarios to extend the app directly through code. More information: Apply business logic using code</p>
<p>Integrating with apps by using events
A common approach of app integration is through the use of events. For example, an event such as adding a new row occurs in Dataverse, and this should be communicated to an associated system so that an action can be taken. For example, if a new support request was raised, it might trigger an SMS message to be sent to the assigned support staff.</p>
<p>This interactivity can also occur in the opposite direction—an update in an external system might result in data being added, updated, or deleted from a Dataverse environment.</p>
<p>The most popular approaches in Dataverse involve webhooks, Azure messaging (Service Bus, Event Hubs), Azure Logic Apps, or Power Automate.</p>
<p>Events in Dataverse</p>
<p>Webhooks
With Dataverse, you can send data about events that occur on the service to a web app by using webhooks. A webhook is a lightweight HTTP pattern for connecting web APIs and services with a publish-and-subscribe model. Webhook senders notify receivers about events by making requests to receiver endpoints with some information about the events.</p>
<p>Webhooks enable developers and ISVs to integrate Dataverse data with their own custom code hosted on external services. By using the webhook model, you can secure your endpoint by using authentication header or query string parameter keys. This is simpler than the shared access signature authentication model used with Azure Service Bus integration.</p>
<p>Webhooks can only scale to the point at which your hosted web service can handle the messages.</p>
<p>Webhooks enable synchronous and asynchronous steps.</p>
<p>Webhooks send POST requests with the JSON payload and can be consumed by any programming language or web app hosted anywhere.</p>
<p>Webhooks can be invoked from a plug-in or custom workflow activity.</p>
<p>Azure Service Bus
Service Bus provides a secure and reliable communication channel between Dataverse runtime data and external, cloud-based line-of-business apps. This capability is especially useful in keeping disparate Dataverse systems or other Dataverse servers synchronized with business data changes.</p>
<p>The sequence of events is as follows:</p>
<p>A listener app is registered on a Service Bus solution endpoint and begins actively listening for the Dataverse remote execution context on the service bus.</p>
<p>A user performs some operation in Dataverse that triggers execution of the registered out-of-the-box plug-in or a custom Azure-aware plug-in. The plug-in initiates a post, through an asynchronous service system job, of the current request data context to Service Bus.</p>
<p>The claims posted by Dataverse are authenticated. Service Bus then relays the remote execution context to the listener. The listener processes the context information and performs some business-related task with that information. Service Bus notifies the asynchronous service of a successful post and sets the status of the related system job to Completed.</p>
<p>Service Bus relays the request message data context between Dataverse and the Service Bus solution listener apps. Service Bus also provides data security so that only authorized apps can access the posted Dynamics 365 data. Authorization of Dataverse to post the data context to Service Bus, and for listener apps to read it, is managed by Azure shared access signatures.</p>
<p>More information: Service Bus and Service Bus authentication and authorization</p>
<p>Logic Apps and Power Automate
Logic Apps, offered via Azure, and Power Automate, offered via Microsoft Power Platform, can trigger a workflow that can be used to integrate with application events and data on a schedule or by activity in a database, system, service, or SaaS.</p>
<p>Logic Apps and Power Automate with Dataverse</p>
<p>These workflows can execute logic and interact with these systems using the hundreds of connectors to databases, PaaS, and SaaS.</p>
<p>For example, when a row is added to a relational database, such as SQL, this might trigger a workflow that can insert this data in Dataverse.</p>
<p>With the ability to create custom connectors by using Open API (formerly known as Swagger) definitions for a service, it&rsquo;s also straightforward to include services, functions, and code running in IaaS and Azure Kubernetes Service (AKS).</p>
<p>Integrating Dataverse into apps with the OData API
All popular programming languages support a form of integration with REST-based APIs.</p>
<p>Dataverse with the OData API</p>
<p>The Dataverse Web API provides a development experience that can be used across a wide variety of programming languages, platforms, and devices. The Web API implements the OData (Open Data Protocol), version 4.0, an OASIS standard for building and consuming RESTful APIs over rich data sources. You can learn more about this protocol at <a href="http://www.odata.org">www.odata.org</a>. For more information about this standard, see <a href="http://www.oasis-open.org">www.oasis-open.org</a>.</p>
<p>Dataverse takes an &ldquo;API first&rdquo; approach. This means that the service doesn&rsquo;t just provide a mechanism to query data, it also provides metadata from the service on business rules, constraints, and so on that you can use to build intelligent, responsive apps and services.</p>
<p>The API is secured by using OAuth. OAuth requires an idtable provider for authentication. For Dataverse, the idtable provider is Azure Active Directory (Azure AD). To authenticate with Azure AD by using a Microsoft work or school account, use the Azure AD Authentication Libraries (ADAL).</p>
<p>For more information about getting started with the Dataverse Web API, see Use the Dataverse Web API.</p>
<p>For more information about using the Dataverse Web API with OAuth, see Use OAuth with Dataverse.</p>
<p>Plug-ins
The Dataverse provides the ability to write code that sits between the API and the data. This code, written in .NET, is referred to as a plug-in. Because the plug-in sits between the API and the data, it enforces the same logic on every app.</p>
<p>Plug-ins can be synchronous or asynchronous, and perform the following tasks:</p>
<p>Return errors to the user.</p>
<p>Query Dataverse data to evaluate logic to perform.</p>
<p>Perform data operations.</p>
<p>Perform outbound HTTP requests.</p>
<p>Plug-ins are registered at points in the event pipeline, which are illustrated here.</p>
<p>Plug-in event pipeline</p>
<p>Within the event pipeline, the following events can occur:</p>
<p>Requests and Responses can be examined and rejected or manipulated in several steps of the event pipeline.</p>
<p>Validation handlers can throw custom exceptions to reject operations that your logic considers invalid.</p>
<p>Pre-operation handlers can modify requests before the database operation.</p>
<p>Post-operation handlers can modify responses.</p>
<p>Async handlers perform automation after the response is returned.</p>
<p>One constraint with plug-ins is that they must be self-contained. If integration code requires references to other libraries, integration can be done by using Azure Functions.</p>
<p>Azure Functions
Azure Functions provides a serverless code execution option for business and integration logic.</p>
<p>Dataverse with Azure Functions</p>
<p>Functions are triggered by a call from an external system, service, or code. For Dataverse, that trigger can come directly from Dataverse using Service Bus, a webhook, or a call from a plug-in. Additionally, the Azure Functions call can be initiated via a flow in either Logic Apps or Power Automate that involves the Common Data Service connector.</p>
<p>More information: Use plug-ins to extend business processes</p>
<p>Feedback
Submit and view feedback for</p>
<p>View all page feedback 
Is this page helpful?
Yes  No
In this article
Defining business logic
Integrating with apps by using events
Logic Apps and Power Automate
Integrating Dataverse into apps with the OData API
Plug-ins
English (United States)
Previous Version Docs Blog Contribute Privacy &amp; Cookies Terms of Use Site Feedback Trademarks © Microsoft 2021</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://zclam.github.io/categories/%E9%9A%8F%E7%AC%94/">随笔</a></span>
        
    </p>


      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-01-25
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        


      </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://zclam.github.io/posts/2021/01/%E7%AC%AC3%E7%AF%87/">
                <span class="button__icon">←</span>
                <span class="button__text">第3篇</span>
              </a>
            </span>
          

          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    
</footer>

            
        </div>

        



<script type="text/javascript" src="https://zclam.github.io/bundle.min.af435e44374f1e99a669ea8cd5bb9a2fceed80588941a451bfddb66b86a67c9f40b0f417e9543a763f809aa7e9300d7b1d69bf99615810ba02ac70396d50fad5.js" integrity="sha512-r0NeRDdPHpmmaeqM1buaL87tgFiJQaRRv922a4amfJ9AsPQX6VQ6dj&#43;AmqfpMA17HWm/mWFYELoCrHA5bVD61Q=="></script>



    </body>
</html>
